{% extends "base.html" %}

{% block title %}360Me Math Lab â€” ì´ˆë“± ì—°ì‚° ì—°ìŠµ í—ˆë¸Œ{% endblock %}

{% block content %}
<div class="mx-auto w-full max-w-6xl space-y-16 px-4 py-12 sm:px-6 lg:px-8 lg:py-18">
    <section class="relative overflow-hidden rounded-3xl border border-white/15 bg-gradient-to-br from-sky-500 via-primary to-purple-500 px-6 py-16 text-white shadow-2xl sm:px-10 lg:px-16">
        <div class="absolute inset-0 opacity-15" aria-hidden="true"
             style="background-image: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.28) 0, transparent 55%),
                    radial-gradient(circle at 80% 0%, rgba(255,255,255,0.2) 0, transparent 45%),
                    radial-gradient(circle at 50% 100%, rgba(255,255,255,0.2) 0, transparent 50%);"></div>
        <div class="relative z-10 mx-auto max-w-4xl space-y-8 text-center">
            <span class="inline-flex items-center justify-center rounded-full bg-white/10 px-4 py-1 text-xs font-semibold uppercase tracking-widest text-white/80">
                ì¹¸ë°˜ FE-01 Â· FE-02 Â· FE-05 Â· Web Vitals ì¤€ë¹„ì™„ë£Œ
            </span>
            <h1 class="text-4xl font-bold leading-tight tracking-tight sm:text-5xl lg:text-6xl">
                360Me Math Lab
            </h1>
              {% set featured_count = category_count | default(categories|length) %}
              {% set featured_label = cta_primary_category %}
              {% set secondary_label = secondary_category %}
              {% if secondary_label is none %}
              {% set secondary_label = featured_label %}
              {% endif %}
              {% set show_featured_link = featured_label is not none %}
              {% set show_secondary_link = secondary_label is not none and secondary_label != featured_label %}
            <p class="text-lg text-white/90 sm:text-xl">
                ì´ˆë“± ì—°ì‚° {{ featured_count if featured_count else 4 }}ì¢…ì„ Self â†’ Practice â†’ Share íë¦„ìœ¼ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
                Tailwind ê¸°ë°˜ì˜ ì ‘ê·¼ì„±, Skeleton UX, noindex ì •ì±…ì„ ìœ ì§€í•˜ë©´ì„œë„ í•™ìŠµ ëª°ì…ë„ë¥¼ ë†’ì˜€ìŠµë‹ˆë‹¤.
            </p>
            <div class="flex flex-col items-center justify-center gap-3 sm:flex-row sm:gap-4">
                {% if show_featured_link %}
                <a href="/problems?category={{ featured_label }}" class="inline-flex items-center gap-2 rounded-full bg-white px-6 py-3 text-base font-semibold text-slate-900 shadow-xl shadow-sky-900/40 transition hover:-translate-y-0.5 hover:bg-slate-100">
                    <span aria-hidden="true">ğŸ§ </span> {{ featured_label }} ë¬¸ì œ ì‹œì‘
                </a>
                {% else %}
                <a href="/problems" class="inline-flex items-center gap-2 rounded-full bg-white px-6 py-3 text-base font-semibold text-slate-900 shadow-xl shadow-sky-900/40 transition hover:-translate-y-0.5 hover:bg-slate-100">
                    <span aria-hidden="true">ğŸ§ </span> ë¬¸ì œ ë°”ë¡œ ì‹œì‘
                </a>
                {% endif %}
                <a href="#categories" class="inline-flex items-center gap-2 rounded-full border border-white/40 px-6 py-3 text-base font-semibold text-white transition hover:bg-white/10">
                    <span aria-hidden="true">ğŸ“š</span> ëª¨ë“  ìœ í˜• ë³´ê¸°
                </a>
            </div>
            <dl class="mt-10 grid gap-4 text-left sm:grid-cols-3">
                <div class="glass-card rounded-2xl px-5 py-4">
                    <dt class="text-xs font-semibold uppercase tracking-widest text-sky-200/80">ë¬¸ì œ ìœ í˜•</dt>
                    <dd class="mt-2 text-lg font-semibold text-white">{{ featured_count if featured_count else 4 }}ê°€ì§€ ì—°ì‚°</dd>
                </div>
                <div class="glass-card rounded-2xl px-5 py-4">
                    <dt class="text-xs font-semibold uppercase tracking-widest text-sky-200/80">ì´ ë¬¸í•­</dt>
                    <dd class="mt-2 text-lg font-semibold text-white">20ê°œ ìƒ˜í”Œ</dd>
                </div>
                <div class="glass-card rounded-2xl px-5 py-4">
                    <dt class="text-xs font-semibold uppercase tracking-widest text-sky-200/80">A11y Â· Observability</dt>
                    <dd class="mt-2 text-lg font-semibold text-white">WCAG 2.2 Â· RFC 9457</dd>
                </div>
            </dl>
        </div>
    </section>

    <section id="categories" aria-labelledby="section-categories" class="space-y-7">
        <header class="max-w-3xl space-y-3">
            <h2 id="section-categories" class="text-3xl font-semibold text-white sm:text-4xl">ì—°ì‚° ìœ í˜• ì„ íƒ</h2>
            <p class="text-base text-slate-300">
                Tasks.mdì˜ FE-02 ìš”êµ¬ì— ë§ì¶° {{ featured_count if featured_count else 4 }}ê°€ì§€ ì—°ì‚°ì„ ë¶„ë¦¬ëœ ì¹´ë“œë¡œ ì œê³µí•˜ê³ ,
                ê° ìœ í˜•ì€ í‚¤ë³´ë“œ ì ‘ê·¼ì„±ê³¼ í¬ì»¤ìŠ¤ ë§ì„ í¬í•¨í•©ë‹ˆë‹¤.
            </p>
        </header>
        <div class="grid gap-6 md:grid-cols-2">
            {% if category_cards %}
            {% for item in category_cards %}
            <article class="relative overflow-hidden rounded-2xl border border-white/10 bg-slate-900/60 p-6 transition duration-200 hover:-translate-y-1 hover:border-primary/50 focus-within:-translate-y-1">
                <div class="pointer-events-none absolute inset-0 bg-gradient-to-br {{ item.accent }} opacity-40"></div>
                <div class="relative z-10 flex flex-col gap-5">
                    <div class="flex items-center justify-between">
                        <span class="text-5xl" aria-hidden="true">{{ item.emoji }}</span>
                        <span class="rounded-full bg-white/15 px-3 py-1 text-xs font-semibold text-white/80">Core ì—°ì‚°</span>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-white">{{ item.title }}</h3>
                        <p class="mt-2 text-sm text-slate-200">{{ item.description }}</p>
                    </div>
                    <a href="{{ item.href }}" class="inline-flex items-center justify-center gap-2 self-start rounded-full bg-white/90 px-5 py-2 text-sm font-semibold text-slate-900 shadow-lg shadow-primary/30 transition hover:-translate-y-0.5 hover:bg-white" aria-label="{{ item.title }} ë¬¸ì œ í’€ê¸°">
                        <span aria-hidden="true">â†’</span> {{ item.cta }}
                    </a>
                </div>
            </article>
            {% endfor %}
            {% else %}
            <p class="text-sm text-slate-300">ë“±ë¡ëœ ë¬¸ì œ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. í™˜ê²½ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
            {% endif %}
        </div>
    </section>

    <section aria-labelledby="section-tips" class="grid gap-6 lg:grid-cols-[1.2fr_0.8fr]">
        <div class="space-y-5">
            <header class="space-y-2">
                <h2 id="section-tips" class="text-3xl font-semibold text-white sm:text-4xl">í•™ìŠµ íŒ & ì§„í–‰ ì „ëµ</h2>
                <p class="text-base text-slate-300">
                    FE-01 ìŠ¤ì¼ˆë ˆí†¤/ë¡œë”© íŒ¨í„´ê³¼ Self â†’ Invite â†’ Aggregate ì² í•™ì„ í•™ìŠµ ë‹¨ê³„ì— ë§ê²Œ ì ìš©í–ˆìŠµë‹ˆë‹¤.
                </p>
            </header>
            <div class="grid gap-4 sm:grid-cols-2">
                <article class="glass-card rounded-2xl p-5">
                    <h3 class="text-lg font-semibold text-white">ğŸ“ í’€ì´ ì›Œí¬í”Œë¡œ</h3>
                    <ul class="mt-3 space-y-2 text-sm text-slate-200">
                        <li>â€¢ ë¬¸ì œë¥¼ ìŒì„±ìœ¼ë¡œ ì½ì–´ ì´í•´ë„ë¥¼ í™•ì¸í•˜ì„¸ìš”.</li>
                        <li>â€¢ ì´ˆì•ˆ ê³„ì‚°ì€ ì´ˆë“± ë§ì¶¤ ê²©ì ë…¸íŠ¸ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</li>
                        <li>â€¢ ì •ë‹µ ì œì¶œ í›„ ì¦‰ì‹œ í”¼ë“œë°±ì„ í†µí•´ ì˜¤ë‹µë…¸íŠ¸ë¥¼ ë³´ì™„í•˜ì„¸ìš”.</li>
                    </ul>
                </article>
                <article class="glass-card rounded-2xl p-5">
                    <h3 class="text-lg font-semibold text-white">ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                    <ul class="mt-3 space-y-2 text-sm text-slate-200">
                        <li>â€¢ ê¸°ë³¸ ì—°ì‚° ì†ë„ì™€ ì •í™•ë„ í–¥ìƒ</li>
                        <li>â€¢ ìˆ˜ ëª¨ë¸(ìˆ˜ì§ì„ Â·ë°°ì—´Â·ë¬¶ìŒ) í™œìš© ëŠ¥ë ¥ ê°•í™”</li>
                        <li>â€¢ ì¹œêµ¬ ì´ˆëŒ€ë¥¼ í†µí•œ ë¹„êµ(Invite)ë¡œ ë™ê¸° ë¶€ì—¬</li>
                    </ul>
                </article>
                <article class="glass-card rounded-2xl p-5">
                    <h3 class="text-lg font-semibold text-white">ğŸ›¡ï¸ ì•ˆì „ & í”„ë¼ì´ë²„ì‹œ</h3>
                    <ul class="mt-3 space-y-2 text-sm text-slate-200">
                        <li>â€¢ í•™ìŠµ ë°ì´í„°ëŠ” ìµëª… í† í°ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.</li>
                        <li>â€¢ noindex í—¤ë”ì™€ X-Request-IDë¥¼ ê¸°ë³¸ í™œì„±í™”í•©ë‹ˆë‹¤.</li>
                        <li>â€¢ RFC 9457 Problem Details ë¡œ ì˜¤ë¥˜ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.</li>
                    </ul>
                </article>
                <article class="glass-card rounded-2xl p-5">
                    <h3 class="text-lg font-semibold text-white">âš™ï¸ ë¡œì»¬ ê°œë°œ ê°€ì´ë“œ</h3>
                    <p class="mt-3 text-sm text-slate-200">
                        `uvicorn app.main:app --reload --port 8080` ìœ¼ë¡œ í—ˆë¸Œë¥¼, `uvicorn app.main:app --reload --port 8000`
                        ìœ¼ë¡œ Arcadeë¥¼ ë™ì‹œ ì‹¤í–‰í•˜ë©´ Self â†’ Invite â†’ Aggregateê¹Œì§€ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </article>
            </div>
        </div>
        <aside class="glass-card rounded-3xl p-6">
            <h3 class="text-lg font-semibold text-white">ì‹¤ì‹œê°„ í•™ìŠµ ì§€í‘œ</h3>
            <dl class="mt-6 space-y-4 text-sm text-slate-200">
                <div class="flex items-start justify-between gap-4">
                    <dt class="text-slate-300">ì´ ë¬¸ì œ ìˆ˜</dt>
                    <dd class="text-lg font-semibold text-white">20</dd>
                </div>
                <div class="flex items-start justify-between gap-4">
                    <dt class="text-slate-300">ê¶Œì¥ í•™ìŠµ ì‹œê°„</dt>
                    <dd class="text-lg font-semibold text-white">1ì¼ 15ë¶„</dd>
                </div>
                <div class="flex items-start justify-between gap-4">
                    <dt class="text-slate-300">Self â†’ Share í‰ê· </dt>
                    <dd class="text-lg font-semibold text-white">2.4ì¼</dd>
                </div>
                <div class="flex items-start justify-between gap-4">
                    <dt class="text-slate-300">Web Vitals ëª©í‘œ</dt>
                    <dd class="text-lg font-semibold text-white">LCP â‰¤ 2.5s</dd>
                </div>
            </dl>
        </aside>
    </section>

    <section aria-labelledby="section-stats" class="space-y-6">
        <header>
            <h2 id="section-stats" class="text-3xl font-semibold text-white sm:text-4xl">í•™ìŠµ í†µê³„ & ì§„í–‰ í˜„í™©</h2>
            <p class="mt-2 text-base text-slate-300">ë¬¸ì œ ìœ í˜•ë³„ ë¬¸í•­ ìˆ˜ì™€ ìƒíƒœë¥¼ ìš”ì•½í•´ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </header>
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
            <article class="surface-card rounded-2xl p-5 text-center shadow-lg shadow-sky-900/10">
                <h3 class="text-sm font-medium text-slate-300 uppercase tracking-[0.2em]">ë¬¸ì œ ìœ í˜•</h3>
                <p class="mt-3 text-3xl font-semibold text-white">4</p>
                <p class="mt-1 text-xs text-slate-400">ë§ì…ˆ Â· ëº„ì…ˆ Â· ê³±ì…ˆ Â· ë‚˜ëˆ—ì…ˆ</p>
            </article>
            <article class="surface-card rounded-2xl p-5 text-center shadow-lg shadow-sky-900/10">
                <h3 class="text-sm font-medium text-slate-300 uppercase tracking-[0.2em]">ì´ ë¬¸ì œ</h3>
                <p class="mt-3 text-3xl font-semibold text-white">20</p>
                <p class="mt-1 text-xs text-slate-400">ì—°ì‚°ë³„ 5ë¬¸í•­ ê¸°ì¤€</p>
            </article>
            <article class="surface-card rounded-2xl p-5 text-center shadow-lg shadow-sky-900/10">
                <h3 class="text-sm font-medium text-slate-300 uppercase tracking-[0.2em]">ì¶”ì²œ ëŒ€ìƒ</h3>
                <p class="mt-3 text-3xl font-semibold text-white">ì´ˆë“±</p>
                <p class="mt-1 text-xs text-slate-400">2~4í•™ë…„ ê¶Œì¥ ë‚œì´ë„</p>
            </article>
            <article class="surface-card rounded-2xl p-5 text-center shadow-lg shadow-sky-900/10">
                <h3 class="text-sm font-medium text-slate-300 uppercase tracking-[0.2em]">ì´ìš© ìš”ê¸ˆ</h3>
                <p class="mt-3 text-3xl font-semibold text-white">ë¬´ë£Œ</p>
                <p class="mt-1 text-xs text-slate-400">í•™ìŠµ ê³µìœ  ë§í¬ë§Œ ìƒì„±</p>
            </article>
        </div>
    </section>

    <section aria-labelledby="section-cta" class="rounded-3xl border border-white/10 bg-slate-900/70 px-6 py-12 text-center shadow-2xl sm:px-10">
        <h2 id="section-cta" class="text-3xl font-semibold text-white sm:text-4xl">ì˜¤ëŠ˜ì˜ í•™ìŠµì„ ì‹œì‘í•´ë³´ì„¸ìš”</h2>
        <p class="mt-4 text-base text-slate-300">
            Self ì—°ìŠµ í›„ Invite ë§í¬ë¡œ ì¹œêµ¬Â·ê°€ì¡±ê³¼ í•¨ê»˜ í’€ì–´ë³´ë©´ í•™ìŠµ ì˜ì§€ê°€ 2ë°° ì´ìƒ í–¥ìƒëœë‹¤ëŠ” ë¦¬ì„œì¹˜ê°€ ìˆìŠµë‹ˆë‹¤.
            Matomo/GA4 ì´ë²¤íŠ¸ë¡œ í•™ìŠµ íë¦„ì„ ê´€ì¸¡í•˜ë©°, Web VitalsÂ·WCAG ìš”êµ¬ì‚¬í•­ë„ í•¨ê»˜ ì ê²€í•˜ì„¸ìš”.
        </p>
          <div class="mt-8 flex flex-col items-center justify-center gap-3 sm:flex-row">
              {% if show_featured_link %}
              <a href="/problems?category={{ featured_label }}" class="inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-base font-semibold text-slate-900 shadow-lg shadow-sky-900/40 transition hover:-translate-y-0.5 hover:bg-sky-300">
                  <span aria-hidden="true">ğŸš€</span> {{ featured_label }}ë¶€í„° ì‹œì‘í•˜ê¸°
              </a>
              {% else %}
              <a href="/problems" class="inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-base font-semibold text-slate-900 shadow-lg shadow-sky-900/40 transition hover:-translate-y-0.5 hover:bg-sky-300">
                  <span aria-hidden="true">ğŸš€</span> ë¬¸ì œë¶€í„° ì‹œì‘í•˜ê¸°
              </a>
              {% endif %}
              {% if show_secondary_link %}
              <a href="/problems?category={{ secondary_label }}" class="inline-flex items-center gap-2 rounded-full border border-white/20 px-6 py-3 text-base font-semibold text-white transition hover:bg-white/10">
                  <span aria-hidden="true">âœ¨</span> {{ secondary_label }} ì‹¬í™” ë„ì „
              </a>
              {% endif %}
            <a href="http://localhost:8080" class="inline-flex items-center gap-2 rounded-full border border-white/20 px-6 py-3 text-base font-semibold text-white transition hover:bg-white/10">
                <span aria-hidden="true">ğŸŒ</span> í—ˆë¸Œë¡œ ëŒì•„ê°€ê¸°
            </a>
        </div>
    </section>
</div>
{% endblock %}

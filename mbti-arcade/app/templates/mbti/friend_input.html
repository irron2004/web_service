{% extends "base.html" %}

{% block title %}친구 MBTI 평가 - 친구 정보 입력{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl mx-auto">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">친구 MBTI 평가</h1>
            <p class="text-gray-600">상대방의 입장에서 MBTI를 평가해보세요</p>
        </div>

        <!-- 새로운 설명 섹션 추가 -->
        <div class="mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg">
            <div class="text-center mb-4">
                <h3 class="text-xl font-bold text-purple-800 mb-2">"내 MBTI는 F야!"</h3>
                <h3 class="text-xl font-bold text-purple-800 mb-4">"무슨 소리야, 넌 완전 T거든?"</h3>
            </div>
            
            <p class="text-gray-700 mb-4 text-left">
                친구 · 연인과 이런 대화 한 번쯤 해보셨죠?<br>
                알고 보면 <strong>'내가 보는 나'</strong>와 <strong>'상대가 보는 나'</strong> 사이엔 꽤 큰 간극이 숨어 있습니다.<br>
                이 간극이 오해를 부르고, 때로는 서운함이나 다툼으로 이어지기도 해요.
            </p>
            
            <div class="bg-white p-4 rounded-lg border border-purple-300 mb-4">
                <p class="text-purple-800 font-semibold text-center">
                    <strong>이 테스트는 그 차이를 눈으로 확인해 보는 작은 실험</strong>입니다.
                </p>
            </div>
            
            <div class="space-y-2 mb-4">
                <div class="flex items-center">
                    <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">1</span>
                    <span class="text-gray-700"><strong>STEP 1</strong> 내 관점으로 문항에 답하기</span>
                </div>
                <div class="flex items-center">
                    <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">2</span>
                    <span class="text-gray-700"><strong>STEP 2</strong> 상대도 같은 문항으로 내 성격을 평가하기</span>
                </div>
                <div class="flex items-center">
                    <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">3</span>
                    <span class="text-gray-700"><strong>STEP 3</strong> 두 결과를 나란히 비교하고, 어떤 지표에서 차이가 컸는지 시각화로 확인!</span>
                </div>
            </div>
            
            <p class="text-gray-700 text-left">
                서로가 기대하는 모습과 실제 모습을 이해하면,<br>
                <strong>"아, 그래서 네가 그렇게 생각했구나!"</strong> 하고 웃으며 넘어갈 수 있겠죠?<br>
                작은 깨달음이 쌓이면, 더 오래오래 — 그리고 편안하게 — 좋은 관계를 이어갈 수 있을 거예요. 😊
            </p>
        </div>

        <div class="bg-white rounded-lg shadow-lg p-6">
            <form method="POST" class="space-y-6">
                <div>
                    <label for="friend_name" class="block text-sm font-medium text-gray-700 mb-2">
                        친구 이름 *
                    </label>
                    <input type="text" 
                           id="friend_name" 
                           name="friend_name" 
                           required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="친구의 이름을 입력하세요">
                </div>

                <div>
                    <label for="friend_email" class="block text-sm font-medium text-gray-700 mb-2">
                        친구 이메일 *
                    </label>
                    <input type="email" 
                           id="friend_email" 
                           name="friend_email" 
                           required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="friend@example.com">
                    <p class="mt-1 text-sm text-gray-500">
                        이 이메일로 친구의 평가 결과를 확인할 수 있습니다
                    </p>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-2">
                    <span class="text-sm text-yellow-800">
                        <strong>안내:</strong> 아래 MBTI 테스트는 <span id="friend_name_display">친구</span>의 입장에서 답변해 주세요.<br>
                        즉, "내가 <span id="friend_name_display2">친구</span>라고 생각하고" 각 문항에 답해주시면 됩니다.
                    </span>
                </div>

                <div>
                    <label for="friend_description" class="block text-sm font-medium text-gray-700 mb-2">
                        친구에 대한 간단한 설명 (선택사항)
                    </label>
                    <textarea id="friend_description" 
                              name="friend_description" 
                              rows="3"
                              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              placeholder="친구에 대한 간단한 설명을 입력하세요"></textarea>
                </div>

                <div>
                    <label for="my_perspective" class="block text-sm font-medium text-gray-700 mb-2">
                        나의 관점/관계 *
                    </label>
                    <input type="text" 
                           id="my_perspective" 
                           name="my_perspective" 
                           required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="예: 대학 동기, 직장 동료, 가족 등">
                    <p class="mt-1 text-sm text-gray-500">
                        친구와의 관계나 평가하는 관점을 입력해주세요
                    </p>
                </div>

                <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                    <h3 class="text-sm font-medium text-blue-800 mb-2">💡 어떻게 작동하나요?</h3>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>• 친구의 정보를 입력하면 MBTI 테스트 페이지로 이동합니다</li>
                        <li>• 여러 사람이 같은 이메일로 친구를 평가할 수 있습니다</li>
                        <li>• 평가 결과는 통계와 함께 친구 이메일로 확인 가능합니다</li>
                        <li>• 친구 이름이 질문에 자동으로 반영됩니다</li>
                    </ul>
                </div>

                <div class="bg-purple-50 border border-purple-200 rounded-md p-4">
                    <h3 class="text-sm font-medium text-purple-800 mb-2">🔗 URL 공유 기능</h3>
                    <ul class="text-sm text-purple-700 space-y-1">
                        <li>• 친구 정보 입력 후 평가 요청 링크를 생성할 수 있습니다</li>
                        <li>• 링크를 공유하면 친구들이 쉽게 평가할 수 있습니다</li>
                        <li>• 친구 이름이 질문에 자동으로 표시됩니다</li>
                    </ul>
                </div>

                <button type="submit" 
                        class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
                    MBTI 테스트 시작하기
                </button>
            </form>

            <div class="mt-6 text-center">
                <a href="/mbti/" class="text-blue-600 hover:text-blue-800 text-sm">
                    ← MBTI 홈으로 돌아가기
                </a>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const friendNameInput = document.getElementById('friend_name');
    const friendNameDisplay = document.getElementById('friend_name_display');
    const friendNameDisplay2 = document.getElementById('friend_name_display2');
    
    friendNameInput.addEventListener('input', function() {
        const friendName = this.value.trim();
        if (friendName) {
            friendNameDisplay.textContent = friendName;
            friendNameDisplay2.textContent = friendName;
        } else {
            friendNameDisplay.textContent = '친구';
            friendNameDisplay2.textContent = '친구';
        }
    });
    if (friendNameInput.value.trim()) {
        friendNameDisplay.textContent = friendNameInput.value.trim();
        friendNameDisplay2.textContent = friendNameInput.value.trim();
    }
});
</script>
{% endblock %} 
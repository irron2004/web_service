{% extends "base.html" %}

{% block title %}ì¹œêµ¬ MBTI í‰ê°€ - ì¹œêµ¬ ì •ë³´ ì…ë ¥{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl mx-auto">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">ì¹œêµ¬ MBTI í‰ê°€</h1>
            <p class="text-gray-600">ìƒëŒ€ë°©ì˜ ì…ì¥ì—ì„œ MBTIë¥¼ í‰ê°€í•´ë³´ì„¸ìš”</p>
        </div>

        <!-- ìƒˆë¡œìš´ ì„¤ëª… ì„¹ì…˜ ì¶”ê°€ -->
        <div class="mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg">
            <div class="text-center mb-4">
                <h3 class="text-xl font-bold text-purple-800 mb-2">"ë‚´ MBTIëŠ” Fì•¼!"</h3>
                <h3 class="text-xl font-bold text-purple-800 mb-4">"ë¬´ìŠ¨ ì†Œë¦¬ì•¼, ë„Œ ì™„ì „ Tê±°ë“ ?"</h3>
            </div>
            
            <p class="text-gray-700 mb-4 text-left">
                ì¹œêµ¬ Â· ì—°ì¸ê³¼ ì´ëŸ° ëŒ€í™” í•œ ë²ˆì¯¤ í•´ë³´ì…¨ì£ ?<br>
                ì•Œê³  ë³´ë©´ <strong>'ë‚´ê°€ ë³´ëŠ” ë‚˜'</strong>ì™€ <strong>'ìƒëŒ€ê°€ ë³´ëŠ” ë‚˜'</strong> ì‚¬ì´ì—” ê½¤ í° ê°„ê·¹ì´ ìˆ¨ì–´ ìˆìŠµë‹ˆë‹¤.<br>
                ì´ ê°„ê·¹ì´ ì˜¤í•´ë¥¼ ë¶€ë¥´ê³ , ë•Œë¡œëŠ” ì„œìš´í•¨ì´ë‚˜ ë‹¤íˆ¼ìœ¼ë¡œ ì´ì–´ì§€ê¸°ë„ í•´ìš”.
            </p>
            
            <div class="bg-white p-4 rounded-lg border border-purple-300 mb-4">
                <p class="text-purple-800 font-semibold text-center">
                    <strong>ì´ í…ŒìŠ¤íŠ¸ëŠ” ê·¸ ì°¨ì´ë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸í•´ ë³´ëŠ” ì‘ì€ ì‹¤í—˜</strong>ì…ë‹ˆë‹¤.
                </p>
            </div>
            
            <div class="space-y-2 mb-4">
                <div class="flex items-center">
                    <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">1</span>
                    <span class="text-gray-700"><strong>STEP 1</strong> ë‚´ ê´€ì ìœ¼ë¡œ ë¬¸í•­ì— ë‹µí•˜ê¸°</span>
                </div>
                <div class="flex items-center">
                    <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">2</span>
                    <span class="text-gray-700"><strong>STEP 2</strong> ìƒëŒ€ë„ ê°™ì€ ë¬¸í•­ìœ¼ë¡œ ë‚´ ì„±ê²©ì„ í‰ê°€í•˜ê¸°</span>
                </div>
                <div class="flex items-center">
                    <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">3</span>
                    <span class="text-gray-700"><strong>STEP 3</strong> ë‘ ê²°ê³¼ë¥¼ ë‚˜ë€íˆ ë¹„êµí•˜ê³ , ì–´ë–¤ ì§€í‘œì—ì„œ ì°¨ì´ê°€ ì»¸ëŠ”ì§€ ì‹œê°í™”ë¡œ í™•ì¸!</span>
                </div>
            </div>
            
            <p class="text-gray-700 text-left">
                ì„œë¡œê°€ ê¸°ëŒ€í•˜ëŠ” ëª¨ìŠµê³¼ ì‹¤ì œ ëª¨ìŠµì„ ì´í•´í•˜ë©´,<br>
                <strong>"ì•„, ê·¸ë˜ì„œ ë„¤ê°€ ê·¸ë ‡ê²Œ ìƒê°í–ˆêµ¬ë‚˜!"</strong> í•˜ê³  ì›ƒìœ¼ë©° ë„˜ì–´ê°ˆ ìˆ˜ ìˆê² ì£ ?<br>
                ì‘ì€ ê¹¨ë‹¬ìŒì´ ìŒ“ì´ë©´, ë” ì˜¤ë˜ì˜¤ë˜ â€” ê·¸ë¦¬ê³  í¸ì•ˆí•˜ê²Œ â€” ì¢‹ì€ ê´€ê³„ë¥¼ ì´ì–´ê°ˆ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. ğŸ˜Š
            </p>
        </div>

        <div class="bg-white rounded-lg shadow-lg p-6">
            <form method="POST" class="space-y-6">
                <!-- ë¯¸ë¦¬ ì…ë ¥ëœ ì •ë³´ê°€ ìˆëŠ” ê²½ìš° í‘œì‹œ -->
                {% if prefill_name or prefill_email or prefill_mbti %}
                <div class="bg-green-50 border border-green-200 rounded-md p-4 mb-4">
                    <h3 class="text-sm font-medium text-green-800 mb-2">âœ… ë¯¸ë¦¬ ì…ë ¥ëœ ì •ë³´</h3>
                    <div class="space-y-2 text-sm text-green-700">
                        {% if prefill_name %}
                        <div><strong>ì¹œêµ¬ ì´ë¦„:</strong> {{ prefill_name }}</div>
                        {% endif %}
                        {% if prefill_email %}
                        <div><strong>ì¹œêµ¬ ì´ë©”ì¼:</strong> {{ prefill_email }}</div>
                        {% endif %}
                        {% if prefill_mbti %}
                        <div><strong>ì¹œêµ¬ MBTI:</strong> {{ prefill_mbti }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <div>
                    <label for="friend_name" class="block text-sm font-medium text-gray-700 mb-2">
                        ì¹œêµ¬ ì´ë¦„ *
                    </label>
                    <input type="text" 
                           id="friend_name" 
                           name="friend_name" 
                           required
                           value="{{ prefill_name }}"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="ì¹œêµ¬ì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>

                <div>
                    <label for="friend_email" class="block text-sm font-medium text-gray-700 mb-2">
                        ì¹œêµ¬ ì´ë©”ì¼ *
                    </label>
                    <input type="email" 
                           id="friend_email" 
                           name="friend_email" 
                           required
                           value="{{ prefill_email }}"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="friend@example.com">
                    <p class="mt-1 text-sm text-gray-500">
                        ì´ ì´ë©”ì¼ë¡œ ì¹œêµ¬ì˜ í‰ê°€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
                    </p>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-2">
                    <span class="text-sm text-yellow-800">
                        <strong>ì•ˆë‚´:</strong> ì•„ë˜ MBTI í…ŒìŠ¤íŠ¸ëŠ” <span id="friend_name_display">ì¹œêµ¬</span>ì˜ ì…ì¥ì—ì„œ ë‹µë³€í•´ ì£¼ì„¸ìš”.<br>
                        ì¦‰, "ë‚´ê°€ <span id="friend_name_display2">ì¹œêµ¬</span>ë¼ê³  ìƒê°í•˜ê³ " ê° ë¬¸í•­ì— ë‹µí•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
                    </span>
                </div>

                <div>
                    <label for="friend_description" class="block text-sm font-medium text-gray-700 mb-2">
                        ì¹œêµ¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª… (ì„ íƒì‚¬í•­)
                    </label>
                    <textarea id="friend_description" 
                              name="friend_description" 
                              rows="3"
                              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              placeholder="ì¹œêµ¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                </div>

                <div>
                    <label for="my_perspective" class="block text-sm font-medium text-gray-700 mb-2">
                        ë‚˜ì˜ ê´€ì /ê´€ê³„ *
                    </label>
                    <input type="text" 
                           id="my_perspective" 
                           name="my_perspective" 
                           required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="ì˜ˆ: ëŒ€í•™ ë™ê¸°, ì§ì¥ ë™ë£Œ, ê°€ì¡± ë“±">
                    <p class="mt-1 text-sm text-gray-500">
                        ì¹œêµ¬ì™€ì˜ ê´€ê³„ë‚˜ í‰ê°€í•˜ëŠ” ê´€ì ì„ ì…ë ¥í•´ì£¼ì„¸ìš”
                    </p>
                </div>

                <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                    <h3 class="text-sm font-medium text-blue-800 mb-2">ğŸ’¡ ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?</h3>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>â€¢ ì¹œêµ¬ì˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ MBTI í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤</li>
                        <li>â€¢ ì—¬ëŸ¬ ì‚¬ëŒì´ ê°™ì€ ì´ë©”ì¼ë¡œ ì¹œêµ¬ë¥¼ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>â€¢ í‰ê°€ ê²°ê³¼ëŠ” í†µê³„ì™€ í•¨ê»˜ ì¹œêµ¬ ì´ë©”ì¼ë¡œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
                        <li>â€¢ ì¹œêµ¬ ì´ë¦„ì´ ì§ˆë¬¸ì— ìë™ìœ¼ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤</li>
                    </ul>
                </div>

                <div class="bg-purple-50 border border-purple-200 rounded-md p-4">
                    <h3 class="text-sm font-medium text-purple-800 mb-2">ğŸ”— URL ê³µìœ  ê¸°ëŠ¥</h3>
                    <ul class="text-sm text-purple-700 space-y-1">
                        <li>â€¢ ì¹œêµ¬ ì •ë³´ ì…ë ¥ í›„ í‰ê°€ ìš”ì²­ ë§í¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>â€¢ ë§í¬ë¥¼ ê³µìœ í•˜ë©´ ì¹œêµ¬ë“¤ì´ ì‰½ê²Œ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>â€¢ ì¹œêµ¬ ì´ë¦„ì´ ì§ˆë¬¸ì— ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤</li>
                    </ul>
                </div>

                <button type="submit" 
                        class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
                    MBTI í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
                </button>
            </form>

            <div class="mt-6 text-center">
                <a href="/mbti/" class="text-blue-600 hover:text-blue-800 text-sm">
                    â† MBTI í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </a>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const friendNameInput = document.getElementById('friend_name');
    const friendNameDisplay = document.getElementById('friend_name_display');
    const friendNameDisplay2 = document.getElementById('friend_name_display2');
    
    // ë¯¸ë¦¬ ì…ë ¥ëœ ì •ë³´ê°€ ìˆìœ¼ë©´ ì¦‰ì‹œ í‘œì‹œ
    if (friendNameInput.value.trim()) {
        friendNameDisplay.textContent = friendNameInput.value.trim();
        friendNameDisplay2.textContent = friendNameInput.value.trim();
    }
    
    friendNameInput.addEventListener('input', function() {
        const friendName = this.value.trim();
        if (friendName) {
            friendNameDisplay.textContent = friendName;
            friendNameDisplay2.textContent = friendName;
        } else {
            friendNameDisplay.textContent = 'ì¹œêµ¬';
            friendNameDisplay2.textContent = 'ì¹œêµ¬';
        }
    });
});

// URL íŒŒë¼ë¯¸í„°ë¡œ input ìë™ ì±„ìš°ê¸°
(function() {
    function getParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param) || '';
    }
    document.addEventListener('DOMContentLoaded', function() {
        var prefillName = getParam('prefill_name');
        var prefillEmail = getParam('prefill_email');
        var prefillMbti = getParam('prefill_mbti');
        if (prefillName) {
            var nameInput = document.getElementById('friend_name');
            if (nameInput) nameInput.value = prefillName;
            var display1 = document.getElementById('friend_name_display');
            var display2 = document.getElementById('friend_name_display2');
            if (display1) display1.textContent = prefillName;
            if (display2) display2.textContent = prefillName;
        }
        if (prefillEmail) {
            var emailInput = document.getElementById('friend_email');
            if (emailInput) emailInput.value = prefillEmail;
        }
        if (prefillMbti) {
            var mbtiInput = document.getElementById('friend_mbti');
            if (mbtiInput) mbtiInput.value = prefillMbti;
        }
    });
})();
</script>
{% endblock %} 